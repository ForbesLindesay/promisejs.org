{"version":3,"file":"generated.js","sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","node_modules/browserify/node_modules/domain-browser/index.js","node_modules/browserify/node_modules/events/events.js","node_modules/browserify/node_modules/process/browser.js","node_modules/promise/lib/core.js","node_modules/promise/lib/es6-extensions.js","node_modules/promise/node_modules/asap/browser-asap.js","node_modules/promise/node_modules/asap/browser-raw.js","node_modules/promise/node_modules/asap/raw.js","node_modules/promise/polyfill-done.js","node_modules/promise/polyfill.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","events","domain","createDomain","create","emitError","d","emit","EventEmitter","add","emitter","on","remove","removeListener","bind","fn","args","Array","prototype","slice","arguments","apply","err","intercept","run","this","dispose","removeAllListeners","enter","exit","_events","_maxListeners","undefined","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","TypeError","type","er","handler","len","listeners","error","addListener","listener","m","newListener","push","warned","console","trace","once","g","fired","list","position","splice","key","ret","listenerCount","drainQueue","draining","currentQueue","queue","noop","process","nextTick","fun","setTimeout","title","browser","env","argv","version","versions","off","binding","name","cwd","chdir","dir","umask","getThen","obj","then","ex","LAST_ERROR","IS_ERROR","tryCallOne","tryCallTwo","b","Promise","_32","_8","_89","doResolve","safeThen","self","onFulfilled","onRejected","constructor","resolve","reject","res","handle","Handler","deferred","asap","cb","promise","newValue","finale","done","value","reason","_83","valuePromise","p","TRUE","FALSE","NULL","UNDEFINED","ZERO","EMPTYSTRING","all","arr","val","remaining","race","values","forEach","throwFirstError","pendingErrors","shift","task","rawTask","freeTasks","pop","RawTask","rawAsap","requestErrorThrow","makeRequestCallFromTimer","onerror","requestFlush","flushing","flush","index","currentIndex","capacity","scan","newLength","makeRequestCallFromMutationObserver","callback","toggle","observer","BrowserMutationObserver","node","document","createTextNode","observe","characterData","data","handleTimer","clearTimeout","timeoutHandle","clearInterval","intervalHandle","setInterval","global","MutationObserver","WebKitMutationObserver","parentDomain","active","hasSetImmediate","setImmediate"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*global define:false require:false */\nmodule.exports = (function(){\n\t// Import Events\n\tvar events = require('events')\n\n\t// Export Domain\n\tvar domain = {}\n\tdomain.createDomain = domain.create = function(){\n\t\tvar d = new events.EventEmitter()\n\n\t\tfunction emitError(e) {\n\t\t\td.emit('error', e)\n\t\t}\n\n\t\td.add = function(emitter){\n\t\t\temitter.on('error', emitError)\n\t\t}\n\t\td.remove = function(emitter){\n\t\t\temitter.removeListener('error', emitError)\n\t\t}\n\t\td.bind = function(fn){\n\t\t\treturn function(){\n\t\t\t\tvar args = Array.prototype.slice.call(arguments)\n\t\t\t\ttry {\n\t\t\t\t\tfn.apply(null, args)\n\t\t\t\t}\n\t\t\t\tcatch (err){\n\t\t\t\t\temitError(err)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\td.intercept = function(fn){\n\t\t\treturn function(err){\n\t\t\t\tif ( err ) {\n\t\t\t\t\temitError(err)\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tvar args = Array.prototype.slice.call(arguments, 1)\n\t\t\t\t\ttry {\n\t\t\t\t\t\tfn.apply(null, args)\n\t\t\t\t\t}\n\t\t\t\t\tcatch (err){\n\t\t\t\t\t\temitError(err)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\td.run = function(fn){\n\t\t\ttry {\n\t\t\t\tfn()\n\t\t\t}\n\t\t\tcatch (err) {\n\t\t\t\temitError(err)\n\t\t\t}\n\t\t\treturn this\n\t\t};\n\t\td.dispose = function(){\n\t\t\tthis.removeAllListeners()\n\t\t\treturn this\n\t\t};\n\t\td.enter = d.exit = function(){\n\t\t\treturn this\n\t\t}\n\t\treturn d\n\t};\n\treturn domain\n}).call(this)","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","// shim for using process in browser\n\nvar process = module.exports = {};\nvar queue = [];\nvar draining = false;\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    draining = true;\n    var currentQueue;\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        var i = -1;\n        while (++i < len) {\n            currentQueue[i]();\n        }\n        len = queue.length;\n    }\n    draining = false;\n}\nprocess.nextTick = function (fun) {\n    queue.push(fun);\n    if (!draining) {\n        setTimeout(drainQueue, 0);\n    }\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nvar asap = require('asap/raw');\n\nfunction noop() {}\n\n// States:\n//\n// 0 - pending\n// 1 - fulfilled with _value\n// 2 - rejected with _value\n// 3 - adopted the state of another promise, _value\n//\n// once the state is no longer pending (0) it is immutable\n\n// All `_` prefixed properties will be reduced to `_{random number}`\n// at build time to obfuscate them and discourage their use.\n// We don't use symbols or Object.defineProperty to fully hide them\n// because the performance isn't good enough.\n\n\n// to avoid using try/catch inside critical functions, we\n// extract them to here.\nvar LAST_ERROR = null;\nvar IS_ERROR = {};\nfunction getThen(obj) {\n  try {\n    return obj.then;\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nfunction tryCallOne(fn, a) {\n  try {\n    return fn(a);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\nfunction tryCallTwo(fn, a, b) {\n  try {\n    fn(a, b);\n  } catch (ex) {\n    LAST_ERROR = ex;\n    return IS_ERROR;\n  }\n}\n\nmodule.exports = Promise;\n\nfunction Promise(fn) {\n  if (typeof this !== 'object') {\n    throw new TypeError('Promises must be constructed via new');\n  }\n  if (typeof fn !== 'function') {\n    throw new TypeError('not a function');\n  }\n  this._32 = 0;\n  this._8 = null;\n  this._89 = [];\n  if (fn === noop) return;\n  doResolve(fn, this);\n}\nPromise._83 = noop;\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  if (this.constructor !== Promise) {\n    return safeThen(this, onFulfilled, onRejected);\n  }\n  var res = new Promise(noop);\n  handle(this, new Handler(onFulfilled, onRejected, res));\n  return res;\n};\n\nfunction safeThen(self, onFulfilled, onRejected) {\n  return new self.constructor(function (resolve, reject) {\n    var res = new Promise(noop);\n    res.then(resolve, reject);\n    handle(self, new Handler(onFulfilled, onRejected, res));\n  });\n};\nfunction handle(self, deferred) {\n  while (self._32 === 3) {\n    self = self._8;\n  }\n  if (self._32 === 0) {\n    self._89.push(deferred);\n    return;\n  }\n  asap(function() {\n    var cb = self._32 === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      if (self._32 === 1) {\n        resolve(deferred.promise, self._8);\n      } else {\n        reject(deferred.promise, self._8);\n      }\n      return;\n    }\n    var ret = tryCallOne(cb, self._8);\n    if (ret === IS_ERROR) {\n      reject(deferred.promise, LAST_ERROR);\n    } else {\n      resolve(deferred.promise, ret);\n    }\n  });\n}\nfunction resolve(self, newValue) {\n  // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n  if (newValue === self) {\n    return reject(\n      self,\n      new TypeError('A promise cannot be resolved with itself.')\n    );\n  }\n  if (\n    newValue &&\n    (typeof newValue === 'object' || typeof newValue === 'function')\n  ) {\n    var then = getThen(newValue);\n    if (then === IS_ERROR) {\n      return reject(self, LAST_ERROR);\n    }\n    if (\n      then === self.then &&\n      newValue instanceof Promise\n    ) {\n      self._32 = 3;\n      self._8 = newValue;\n      finale(self);\n      return;\n    } else if (typeof then === 'function') {\n      doResolve(then.bind(newValue), self);\n      return;\n    }\n  }\n  self._32 = 1;\n  self._8 = newValue;\n  finale(self);\n}\n\nfunction reject(self, newValue) {\n  self._32 = 2;\n  self._8 = newValue;\n  finale(self);\n}\nfunction finale(self) {\n  for (var i = 0; i < self._89.length; i++) {\n    handle(self, self._89[i]);\n  }\n  self._89 = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise){\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, promise) {\n  var done = false;\n  var res = tryCallTwo(fn, function (value) {\n    if (done) return;\n    done = true;\n    resolve(promise, value);\n  }, function (reason) {\n    if (done) return;\n    done = true;\n    reject(promise, reason);\n  })\n  if (!done && res === IS_ERROR) {\n    done = true;\n    reject(promise, LAST_ERROR);\n  }\n}\n","'use strict';\n\n//This file contains the ES6 extensions to the core Promises/A+ API\n\nvar Promise = require('./core.js');\nvar asap = require('asap/raw');\n\nmodule.exports = Promise;\n\n/* Static Functions */\n\nvar TRUE = valuePromise(true);\nvar FALSE = valuePromise(false);\nvar NULL = valuePromise(null);\nvar UNDEFINED = valuePromise(undefined);\nvar ZERO = valuePromise(0);\nvar EMPTYSTRING = valuePromise('');\n\nfunction valuePromise(value) {\n  var p = new Promise(Promise._83);\n  p._32 = 1;\n  p._8 = value;\n  return p;\n}\nPromise.resolve = function (value) {\n  if (value instanceof Promise) return value;\n\n  if (value === null) return NULL;\n  if (value === undefined) return UNDEFINED;\n  if (value === true) return TRUE;\n  if (value === false) return FALSE;\n  if (value === 0) return ZERO;\n  if (value === '') return EMPTYSTRING;\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    try {\n      var then = value.then;\n      if (typeof then === 'function') {\n        return new Promise(then.bind(value));\n      }\n    } catch (ex) {\n      return new Promise(function (resolve, reject) {\n        reject(ex);\n      });\n    }\n  }\n  return valuePromise(value);\n};\n\nPromise.all = function (arr) {\n  var args = Array.prototype.slice.call(arr);\n\n  return new Promise(function (resolve, reject) {\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n    function res(i, val) {\n      if (val && (typeof val === 'object' || typeof val === 'function')) {\n        if (val instanceof Promise && val.then === Promise.prototype.then) {\n          while (val._32 === 3) {\n            val = val._8;\n          }\n          if (val._32 === 1) return res(i, val._8);\n          if (val._32 === 2) reject(val._8);\n          val.then(function (val) {\n            res(i, val);\n          }, reject);\n          return;\n        } else {\n          var then = val.then;\n          if (typeof then === 'function') {\n            var p = new Promise(then.bind(val));\n            p.then(function (val) {\n              res(i, val);\n            }, reject);\n            return;\n          }\n        }\n      }\n      args[i] = val;\n      if (--remaining === 0) {\n        resolve(args);\n      }\n    }\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.reject = function (value) {\n  return new Promise(function (resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function (values) {\n  return new Promise(function (resolve, reject) {\n    values.forEach(function(value){\n      Promise.resolve(value).then(resolve, reject);\n    });\n  });\n};\n\n/* Prototype Methods */\n\nPromise.prototype['catch'] = function (onRejected) {\n  return this.then(null, onRejected);\n};\n","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\nvar BrowserMutationObserver = global.MutationObserver || global.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.jsâ€™s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","\"use strict\";\n\nvar domain; // The domain module is executed on demand\nvar hasSetImmediate = typeof setImmediate === \"function\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including network IO events in Node.js.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Avoids a function call\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory excaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\nrawAsap.requestFlush = requestFlush;\nfunction requestFlush() {\n    // Ensure flushing is not bound to any domain.\n    // It is not sufficient to exit the domain, because domains exist on a stack.\n    // To execute code outside of any domain, the following dance is necessary.\n    var parentDomain = process.domain;\n    if (parentDomain) {\n        if (!domain) {\n            // Lazy execute the domain module.\n            // Only employed if the user elects to use domains.\n            domain = require(\"domain\");\n        }\n        domain.active = process.domain = null;\n    }\n\n    // `setImmediate` is slower that `process.nextTick`, but `process.nextTick`\n    // cannot handle recursion.\n    // `requestFlush` will only be called recursively from `asap.js`, to resume\n    // flushing after an error is thrown into a domain.\n    // Conveniently, `setImmediate` was introduced in the same version\n    // `process.nextTick` started throwing recursion errors.\n    if (flushing && hasSetImmediate) {\n        setImmediate(flush);\n    } else {\n        process.nextTick(flush);\n    }\n\n    if (parentDomain) {\n        domain.active = process.domain = parentDomain;\n    }\n}\n","// should work in any browser without browserify\n\nif (typeof Promise.prototype.done !== 'function') {\n  Promise.prototype.done = function (onFulfilled, onRejected) {\n    var self = arguments.length ? this.then.apply(this, arguments) : this\n    self.then(null, function (err) {\n      setTimeout(function () {\n        throw err\n      }, 0)\n    })\n  }\n}","// not \"use strict\" so we can declare global \"Promise\"\n\nvar asap = require('asap');\n\nif (typeof Promise === 'undefined') {\n  Promise = require('./lib/core.js')\n  require('./lib/es6-extensions.js')\n}\n\nrequire('./polyfill-done.js');\n"]}